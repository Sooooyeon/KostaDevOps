<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>웹 워커 적용</title>
</head>
<body>
  <script>

    function applyWorker(){
      if(window.Worker){
        worker = new Worker('22.worker.js');
        worker.postMessage('워커가 동작합니다.');
        worker.onmessage = function(event){
          document.getElementById("result").innerHTML = event.data;
        }
        worker.onerror = function(error){
          document.getElementById("result").innerHTML += '메시지 : ' + error.message+ '</br>';
          document.getElementById("result").innerHTML += '파일이름 : ' + error.filename+ '</br>';
          document.getElementById("result").innerHTML += '라인넘버 : ' + error.lineno+ '</br>';
        }
      }
    }

    function awake(){
      alert('일어나 일어나야지');
    }

    function killWorker(){
      worker.terminate();
      document.getElementById("result").innerHTML = "워커가 종료되었습니다."
    }

    function closeWorker(){
      worker.postMessage("close");
    }
  </script>

  <button onclick="applyWorker()">워커 적용 수행</button>
  <button onclick="awake()">깨어날 시간</button>
  <button onclick="killWorker()">워커 종료</button>
  <button onclick="closeWorker()">워커 내부 종료</button>

  <div id="result"></div>
</body>
</html>