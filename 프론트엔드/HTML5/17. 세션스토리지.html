<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>세션스토리지</title>
</head>
<body>

  <button onclick="Available()">웹스토리지 지원 여부</button>
  <p></p>
  키 : <input type="text" id="key">
  값 : <input type="text" id="data"><p></p>
  <button onclick="saveData()">데이터 저장</button>
  <button onclick="loadData()">데이터 읽기</button>
  <button onclick="removeData()">항목 삭제</button>
  <button onclick="removeAllData()">전체 삭제</button><p></p>
  <div id="result"></div>

  <script>
    function Available(){
      if(typeof(Storage) !== 'undefined'){
        document.getElementById('result').innerHTML = '이 브라우저는 웹스토리지를 지원합니다.'
      } else {
        document.getElementById('result').innerHTML = '이 브라우저는 웹스토리지를 지원하지않습니다.'
        
      }
    }

    var key = document.getElementById('key');
    var data = document.getElementById('data');
    
    function saveData(){
      sessionStorage.setItem(key.value,data.value);
      document.getElementById('result').innerHTML = '데이터 저장 완료';
      console.log(sessionStorage.getItem(key));
    }

    function loadData(){
      document.getElementById('result').innerHTML = '';
      for(var i = 0; i < sessionStorage.length; i++){
        var myKey = sessionStorage.key(i);
        document.getElementById('result').innerHTML += (myKey + ' : ' + sessionStorage.getItem(myKey) + '</br>');
      }
    }

    function removeData(){
      document.getElementById('result').innerHTML = key.value + " 데이터 삭제";
      sessionStorage.removeItem(key.value);
    }

    function removeAllData(){
      document.getElementById('result').innerHTML = "전체 데이터 삭제";
      sessionStorage.clear();
    }
  </script>
</body>
</html>